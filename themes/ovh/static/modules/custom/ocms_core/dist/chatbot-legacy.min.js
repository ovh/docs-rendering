System.register([],(function(){"use strict";return{execute:function(){!function(t){var e={elements:{chatbot:document.querySelector("[data-chatbot]"),triggerButton:document.querySelector("[data-chatbot-button]"),overlay:document.querySelector("[data-chatbot-overlay]"),wrapper:document.querySelector("[data-chatbot-wrapper]"),actionsContainer:document.querySelector("[data-chatbot-actions]"),startchatButton:document.querySelector("[data-chatbot-startchat]"),helpcenterLink:document.querySelector("[data-helpcenter-link]")},constants:{popin:"dydu-popin",teaser:"dydu-teaser"},computed:{observer:void 0},variables:{visible:!1},methods:{initialize:function(){e.elements.chatbot&&(e.events.clickChatbotTrigger(),e.events.clickStartchatButton(),e.computed.observer=new MutationObserver((function(t){t.forEach((function(t){if(t.addedNodes)for(var o=0;o<t.addedNodes.length;o++)t.addedNodes[o].id===e.constants.popin&&e.methods.checkDyduVisibility()}))})),e.computed.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!1,characterData:!1}),document.getElementById("block-chatbotblock-helpcenter")&&e.elements.helpcenterLink.remove())},chatbotDisplay:function(t){t?(e.elements.overlay.classList.remove("inactive"),e.elements.chatbot.classList.add("chatbot--visible")):(e.elements.overlay.classList.add("inactive"),e.elements.chatbot.classList.remove("chatbot--visible"))},checkDyduVisibility:function(){var t=document.querySelector("#".concat(e.constants.popin)),o=document.querySelector("#".concat(e.constants.teaser));(t&&0!==t.offsetHeight||o&&0!==o.offsetHeight)&&(e.computed.observer.disconnect(),e.events.clickCloseDyduButton(),e.variables.visible=!1,e.methods.chatbotDisplay(e.variables.visible),e.elements.triggerButton.classList.add("d-none"))}},events:{clickChatbotTrigger:function(){e.elements.triggerButton.addEventListener("click",(function(){e.variables.visible=!e.variables.visible,e.methods.chatbotDisplay(e.variables.visible)}))},clickStartchatButton:function(){e.elements.startchatButton.addEventListener("click",(function(){var t;null===(t=window.dydu)||void 0===t||t.chatbox.togglePopin(!0),e.variables.visible=!e.variables.visible,e.methods.chatbotDisplay(e.variables.visible),e.elements.triggerButton.classList.add("d-none")}))},clickCloseDyduButton:function(){document.querySelector("#".concat(e.constants.teaser," .dydu-ovh-close")).addEventListener("click",(function(){e.variables.visible=!1,e.methods.chatbotDisplay(e.variables.visible),e.elements.triggerButton.classList.remove("d-none")}))}},attach:function(){e.methods.initialize()}};t.behaviors.chatbot=e}(Drupal)}}}));
