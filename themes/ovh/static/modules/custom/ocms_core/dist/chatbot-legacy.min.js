System.register([],(function(){"use strict";return{execute:function(){var e,t;e=Drupal,t={elements:{chatbot:document.querySelector("[data-chatbot]"),triggerButton:document.querySelector("[data-chatbot-button]"),overlay:document.querySelector("[data-chatbot-overlay]"),wrapper:document.querySelector("[data-chatbot-wrapper]"),actionsContainer:document.querySelector("[data-chatbot-actions]"),startchatButton:document.querySelector("[data-chatbot-startchat]"),helpcenterLink:document.querySelector("[data-helpcenter-link]")},constants:{popin:"dydu-popin",teaser:"dydu-teaser"},computed:{observer:null},variables:{visible:!1},methods:{initialize:function(){t.elements.chatbot&&(t.events.clickChatbotTrigger(),t.events.clickStartchatButton(),t.computed.observer=new MutationObserver((function(e){e.forEach((function(e){if(e.addedNodes)for(var o=0;o<e.addedNodes.length;o++)e.addedNodes[o].id===t.constants.popin&&t.methods.checkDyduVisibility()}))})),t.computed.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!1,characterData:!1}),document.getElementById("block-chatbotblock-helpcenter")&&t.elements.helpcenterLink.remove())},chatbotDisplay:function(e){e?(t.elements.overlay.classList.remove("inactive"),t.elements.chatbot.classList.add("chatbot--visible")):(t.elements.overlay.classList.add("inactive"),t.elements.chatbot.classList.remove("chatbot--visible"))},checkDyduVisibility:function(){var e=document.querySelector("#".concat(t.constants.popin)),o=document.querySelector("#".concat(t.constants.teaser));(e&&0!==e.offsetHeight||o&&0!==o.offsetHeight)&&(t.computed.observer.disconnect(),t.events.clickCloseDyduButton(),t.variables.visible=!1,t.methods.chatbotDisplay(t.variables.visible),t.elements.triggerButton.classList.add("d-none"))}},events:{clickChatbotTrigger:function(){t.elements.triggerButton.addEventListener("click",(function(){t.variables.visible=!t.variables.visible,t.methods.chatbotDisplay(t.variables.visible)}))},clickStartchatButton:function(){t.elements.startchatButton.addEventListener("click",(function(){var e;null===(e=window.dydu)||void 0===e||e.chatbox.togglePopin(!0),t.variables.visible=!t.variables.visible,t.methods.chatbotDisplay(t.variables.visible),t.elements.triggerButton.classList.add("d-none")}))},clickCloseDyduButton:function(){var e;null===(e=document.querySelector("#".concat(t.constants.teaser," .dydu-ovh-close")))||void 0===e||e.addEventListener("click",(function(){t.variables.visible=!1,t.methods.chatbotDisplay(t.variables.visible),t.elements.triggerButton.classList.remove("d-none")}))}},attach:function(){t.methods.initialize()}},e.behaviors.chatbot=t}}}));
