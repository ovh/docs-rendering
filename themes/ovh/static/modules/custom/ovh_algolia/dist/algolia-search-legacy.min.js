!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,a){if(!e)return;if("string"==typeof e)return t(e,a);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,a)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function a(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}System.register(["./assets/configure-legacy.14d92e23.js","./assets/search-box-legacy.e6ec5302.js","./assets/hits-legacy.a55443a0.js"],(function(){"use strict";var t,a,o,s,n,c;return{setters:[function(e){t=e.d,a=e.i,o=e.e,s=e.g},function(e){n=e.s},function(e){c=e.h}],execute:function(){!function(l,i,u){var d={variables:{savedRequest:!1},constants:{MAX_QUERIES_SAVE:5,sources:u.algolia.indexes,hitsTargetBase:"#hits-",baseIndex:u.algolia.indexes[0].indexes[0].index_name,page_name:u.commanders_act.tc_vars.page_name,algoliaSearch:t(u.algolia.application_id,u.algolia.search_api_key),resultPageUrl:u.algolia.results_page_url,localStorage:window.localStorage,hitsCssClasses:{emptyRoot:"ml-4",list:["ods-search-bar__autocomplete__list","pl-0","mb-0"]}},computed:{configureLang:void 0,search:void 0,hitsPerPage:void 0,searchBox:void 0,baseHitWrapper:"",autocompleteLinkItem:document.createElement("a")},elements:{searchBarFormInput:void 0},selectors:{searchbox:"#searchbox"},methods:{ready:function(){return null!==document.querySelector(d.selectors.searchbox)},initialize:function(){d.computed.baseHitWrapper=d.constants.hitsTargetBase+u.algolia.indexes[0].indexes[0].source,d.computed.search=a({indexName:d.constants.baseIndex,routing:!1,searchClient:r(r({},d.constants.algoliaSearch),{},{search:function(e){return e.every((function(e){return!e.params.query}))?Promise.resolve({results:e.map((function(){return{hits:[],nbHits:0,nbPages:0,page:0,processingTimeMS:0}}))}):d.constants.algoliaSearch.search(e)}})}),d.computed.configureLang=o({disjunctiveFacetsRefinements:{search_api_language:[u.path.currentLanguage]}}),d.computed.hitsPerPage=o({hitsPerPage:10}),d.computed.searchBox=n({container:"#searchbox",showReset:!1,placeholder:i.t("Search products, docs â€¦"),cssClasses:{input:"ods-search-bar__form__input py-2 pr-3 pl-7",submit:"ods-search-bar__form__submit position-absolute p-2",submitIcon:"ods-search-bar__form__submit__icon",loadingIndicator:"ods-search-bar__loader"},templates:{submit:"",loadingIndicator:""}}),d.computed.search.addWidgets([d.computed.configureLang,d.computed.hitsPerPage,d.computed.searchBox,c({container:d.computed.baseHitWrapper,templates:{item:function(e){var t=d.methods.getKeyword();return'<a\n                          data-tc-clic="local_search_auto_completion::'.concat(e.id,"::").concat(t,"::").concat(d.constants.page_name,'"\n                          href="').concat(e.url,'"\n                          class="ods-search-bar__autocomplete__list__item__link d-block px-4 py-2">\n                            ').concat(e._highlightResult.title.value,"\n                        </a>")}},cssClasses:d.constants.hitsCssClasses})]),d.methods.appendNewIndexes(),d.computed.search.start(),d.events.searchRender(),d.events.pressEnter(),d.events.clickSubmit(),d.events.clickAllResultsLink()},appendNewIndexes:function(){d.constants.sources.forEach((function(e){e.indexes.forEach((function(e){e.index_name!==d.constants.baseIndex&&d.computed.search.addWidgets([s({indexName:e.index_name}).addWidgets([c({container:d.constants.hitsTargetBase+e.source,templates:{item:function(e){var t=d.methods.getKeyword();return'<a\n                                    data-tc-clic="local_search_auto_completion::'.concat(e.id,"::").concat(t,"::").concat(d.constants.page_name,'"\n                                    href="').concat(e.url,'"\n                                    class="ods-search-bar__autocomplete__list__item__link d-block px-4 py-2">\n                                      ').concat(e._highlightResult.title.value,"\n                                  </a>")}},cssClasses:d.constants.hitsCssClasses})])])}))}))},saveRequest:function(e){if(!d.variables.savedRequest){d.variables.savedRequest=!0;var t=JSON.parse(localStorage.getItem("ovhAlgoliaSearchQuery"))||[];t.length>=d.constants.MAX_QUERIES_SAVE&&t.shift(),t.push(e),localStorage.setItem("ovhAlgoliaSearchQuery",JSON.stringify(t))}},limitMaxResult:function(){d.constants.sources.forEach((function(t){var a=t.type,r=t.items_per_page_autocomplete,o=document.querySelector('[data-category-wrapper="'.concat(a,'"]')).querySelectorAll(".ais-Hits-item"),s=0;e(o).forEach((function(e){(s+=1)>r?e.classList.add("d-none"):e.classList.remove("d-none")}))}))},getKeyword:function(){return document.querySelector(".ods-search-bar__form__input").value.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"-")},setTracking:function(){var e=d.methods.getKeyword();document.querySelector("[ods-search-bar-toggle]").setAttribute("data-tc-clic","local_search::use::".concat(d.constants.page_name)),document.querySelector(".ods-search-bar__autocomplete__all-results").setAttribute("data-tc-clic","local_search_auto_completion::all_results::".concat(e,"::").concat(d.constants.page_name))},multipleNoResultFix:function(){var t=0,a=0;e(document.querySelectorAll("[data-category-wrapper]")).forEach((function(r){var o=r.querySelectorAll("[data-hits-wrapper]"),s=o.length,n=0;e(o).forEach((function(e){t+=1;var o=e.querySelectorAll(".ais-Hits--empty").length;n+=o,o?(a+=1,e.classList.add("d-none")):e.classList.remove("d-none"),n===s?r.classList.add("d-none"):r.classList.remove("d-none")}))})),a===t?(document.querySelector("[ods-search-bar-no-result]").classList.remove("d-none"),document.querySelector(".ods-search-bar__autocomplete__all-results").classList.add("d-none"),document.querySelector(".ods-search-bar__autocomplete__all-results").classList.remove("d-block")):(document.querySelector("[ods-search-bar-no-result]").classList.add("d-none"),document.querySelector(".ods-search-bar__autocomplete__all-results").classList.remove("d-none"),document.querySelector(".ods-search-bar__autocomplete__all-results").classList.add("d-block"))}},events:{searchRender:function(){d.computed.search.on("render",(function(){d.methods.setTracking(),d.methods.multipleNoResultFix(),d.methods.limitMaxResult()}))},pressEnter:function(){document.querySelector(".ods-search-bar__form__input").addEventListener("keydown",(function(e){var t=e.target.value,a=d.constants.resultPageUrl+"?query="+t;13===e.keyCode&&(d.methods.saveRequest(t),t&&(window.location.href=a)),document.querySelector(".ods-search-bar__autocomplete__all-results").setAttribute("href",a)})),document.querySelector(".ods-search-bar__form__input").addEventListener("keyup",(function(e){var t=e.target.value,a=d.constants.resultPageUrl+"?query="+t;13===e.keyCode&&(d.methods.saveRequest(t),t&&(window.location.href=a)),document.querySelector(".ods-search-bar__autocomplete__all-results").setAttribute("href",a)}))},clickSubmit:function(){document.querySelector(".ods-search-bar__form__submit").addEventListener("click",(function(){var e=document.querySelector(".ods-search-bar__form__input").value,t=d.constants.resultPageUrl+"?query="+e;d.methods.saveRequest(e),e&&(window.location.href=t)}))},clickAllResultsLink:function(){return document.querySelector(".ods-search-bar__autocomplete__all-results").addEventListener("click",(function(){var e=document.querySelector(".ods-search-bar__form__input").value;d.methods.saveRequest(e)}))}}},m=window.location,_=m.protocol,h=m.host,p=m.pathname;"".concat(_,"//").concat(h+p)==u.algolia.results_page_url&&document.querySelector("#block-algoliasearchblock")?document.querySelector("#block-algoliasearchblock").remove():d.methods.ready()&&(d.attach=function(){d.methods.initialize()},l.behaviors.ovhAlgoliaSearch=d)}(Drupal,OVH,drupalSettings)}}}))}();
