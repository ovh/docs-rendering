!function(){{var e=Drupal;const a={elements:{chatbot:document.querySelector("[data-chatbot]"),triggerButton:document.querySelector("[data-chatbot-button]"),overlay:document.querySelector("[data-chatbot-overlay]"),wrapper:document.querySelector("[data-chatbot-wrapper]"),actionsContainer:document.querySelector("[data-chatbot-actions]"),startchatButton:document.querySelector("[data-chatbot-startchat]"),helpcenterLink:document.querySelector("[data-helpcenter-link]")},constants:{popin:"dydu-popin",teaser:"dydu-teaser"},computed:{observer:void 0},variables:{visible:!1},methods:{initialize:()=>{a.elements.chatbot&&(a.events.clickChatbotTrigger(),a.events.clickStartchatButton(),a.computed.observer=new MutationObserver(e=>{e.forEach(t=>{if(t.addedNodes)for(let e=0;e<t.addedNodes.length;e++)t.addedNodes[e].id===a.constants.popin&&a.methods.checkDyduVisibility()})}),a.computed.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!1,characterData:!1}),document.getElementById("block-chatbotblock-helpcenter")&&a.elements.helpcenterLink.remove())},chatbotDisplay:e=>{e?(a.elements.overlay.classList.remove("inactive"),a.elements.chatbot.classList.add("chatbot--visible")):(a.elements.overlay.classList.add("inactive"),a.elements.chatbot.classList.remove("chatbot--visible"))},checkDyduVisibility:()=>{var e=document.querySelector("#"+a.constants.popin),t=document.querySelector("#"+a.constants.teaser);(e&&0!==e.offsetHeight||t&&0!==t.offsetHeight)&&(a.computed.observer.disconnect(),a.events.clickCloseDyduButton(),a.variables.visible=!1,a.methods.chatbotDisplay(a.variables.visible),a.elements.triggerButton.classList.add("d-none"))}},events:{clickChatbotTrigger:()=>{a.elements.triggerButton.addEventListener("click",()=>{a.variables.visible=!a.variables.visible,a.methods.chatbotDisplay(a.variables.visible)})},clickStartchatButton:()=>{a.elements.startchatButton.addEventListener("click",()=>{window.dydu?.chatbox.togglePopin(!0),a.variables.visible=!a.variables.visible,a.methods.chatbotDisplay(a.variables.visible),a.elements.triggerButton.classList.add("d-none")})},clickCloseDyduButton:()=>{document.querySelector(`#${a.constants.teaser} .dydu-ovh-close`).addEventListener("click",()=>{a.variables.visible=!1,a.methods.chatbotDisplay(a.variables.visible),a.elements.triggerButton.classList.remove("d-none")})}},attach:()=>{a.methods.initialize()}};e.behaviors.chatbot=a}}();;
